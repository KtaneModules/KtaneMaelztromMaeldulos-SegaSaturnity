<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Quadrecta â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark table, table {
            width: 100%;
            margin: auto;
            border: none;
        }
        .main {
            width: 25%;
            text-align: center;
            border-top: hidden;
        }
        
        .dark .secondary, .secondary {
            width: 12%;
            text-align: center;
            border-top: hidden;
        }
        
        .dark .hide, .hide {
            border-left: hidden;
            border-right: hidden;
        }
        
        tr {
            text-align: center;
            line-height: 25px;
        }
        
        .colours {
            line-height: 30px;
        }
        
        .colours td:first-child {
            width: 30%;
        }
        h3{
            margin-top: 5px;
        }
    </style>
    <script>
        function setDefaultRules(rnd){
            setRules(rnd);
        }
        function setRules(rnd){
            var words = ["Okay", "Wait", "What", "Now", "When", "Stop", "Where"];
            var firstTable = document.getElementById("firstTable").children[0];
            for(var i = 0; i < 7; i++){
                var wordsCopy = [...words];
                wordsCopy.splice(i, 1); //if i do this on one line, wordsCopy ends up being the spliced item (i want it to be everything but the spliced item)
                rnd.shuffleFisherYates(wordsCopy);
                firstTable.children[i + 2].children[1].innerText = wordsCopy[0] + " or " + wordsCopy[1];
                firstTable.children[i + 2].children[2].innerText = wordsCopy[2] + " or " + wordsCopy[3];
                firstTable.children[i + 2].children[3].innerText = wordsCopy[4] + " or " + wordsCopy[5];
            }
            var secondTable = document.getElementById("secondTable").children[0];
            for(var i = 2; i < 5; i++){
                for(var j = 1; j < 8; j++){
                    secondTable.children[i].children[j].innerHTML = "<b>"+rnd.next(0, 10)+"</b>";
                }
            }
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Quadrecta</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Quadrecta.svg" class="diagram">
                <h2>On the Subject of Quadrecta</h2>
                <p class="flavour-text">If there's supposed to be a pattern here, I don't see it.</p>
                <ul>
                    <li>You must press each button and release it at the proper time.</li>
                    <li>The buttons may be pressed in any order, and will illuminate the LED in the center while held.</li>
                    <li>While holding a button, use the first table to find which <strong>Related Word</strong> is currently also present on the module.</li>
                    <li>Use the second table to determine when to release the button, based on the <b>Related Word</b> and the color of the LED.</li>
                </ul>
                <div>
                    <h3>Related Word</h3>
                    <span style="font-size:14px;line-height:5px">Use the table below to find which <b>Related Word</b> is present on another button. If both words are present, either one can be used; if neither word is present, default to the first word.</span>
                    <table id="firstTable">
                        <tr>
                            <td rowspan=2>Held Word</td>
                            <td colspan=3 style="border-bottom:hidden">LED Color</td>
                        </tr>
                        <tr>
                            <td class="main">RED</td>
                            <td class="main hide">BLUE</td>
                            <td class="main">GREEN</td>
                        </tr>
                        <tr><td>Okay</td><td></td><td></td><td></td></tr>
                        <tr><td>Wait</td><td></td><td></td><td></td></tr>
                        <tr><td>What</td><td></td><td></td><td></td></tr>
                        <tr><td>Now</td><td></td><td></td><td></td></tr>
                        <tr><td>When</td><td></td><td></td><td></td></tr>
                        <tr><td>Stop</td><td></td><td></td><td></td></tr>
                        <tr><td>Where</td><td></td><td></td><td></td></tr>
                    </table>
                </div>
                <div>
                    <h3>Releasing the Button</h3>
                    Release the button when the given number is anywhere in the countdown timer. 
                    <table id="secondTable">
                        <tr class="colours">
                            <td rowspan=2>LED Color</td>
                            <td colspan=7>Related Word</td>
                        </tr>
                        <tr>
                            <td class="secondary">Okay</td>
                            <td class="secondary hide">Wait</td>
                            <td class="secondary hide">What</td>
                            <td class="secondary hide">Now</td>
                            <td class="secondary hide">When</td>
                            <td class="secondary hide">Stop</td>
                            <td class="secondary">Where</td>
                        </tr>
                        <tr class="colours">
                            <td>Red</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr class="colours">
                            <td>Blue</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr class="colours">
                            <td>Green</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>
